html, body {
  margin: 0;
  padding: 0;
  background-color: rgb(240, 240, 240);
}

#connect-four {
	$grid-gradient: radial-gradient(50% 50% , transparent 75%, yellow 80%);
	
	$red-gradient: radial-gradient(50% 50% , red 75%, transparent 80%);
	$red-hover-gradient: radial-gradient(50% 50% , rgba(255, 0, 0, 0.25) 75%, transparent 80%);
	
	$black-gradient: radial-gradient(50% 50% , black 75%, transparent 80%);
	$black-hover-gradient: radial-gradient(50% 50% , rgba(0, 0, 0, 0.25) 75%, transparent 80%);
	
    position: absolute;
    left: 50%;
    top: 50%;
    margin-left: -175px;
    margin-top: -150px;
    
	perspective: 1000;
	
	table {
	    border-collapse: collapse;
	}
	
	td {
	    width: 50px;
	    height: 50px;
	    position: relative;
	    cursor: pointer;
	    padding: 0;
	    margin: 0;
	}
	
	/* Show :before and :after on top of each other */
	td[data-player]:before, td:after {
	    content: '';
	    top: 0;
	    left: 0;
	    position: absolute;
	    width: 100%;
	    height: 100%;
	}
	
	/* Use :before to style the actual circle */
	td[data-player]:before {
	    z-index: 1;
	}
	
	/* use :after to show the yellow grid */
	td:after {
	    background-image: $grid-gradient;
	    z-index: 2;
	}
	
	/* round the corner pieces */
	tr:first-child td:first-child:after {
		border-top-left-radius: 10px;
	}
	
	tr:first-child td:last-child:after {
		border-top-right-radius: 10px;
	}
	
	tr:last-child td:first-child:after {
		border-bottom-left-radius: 10px;
	}
	
	tr:last-child td:last-child:after {
		border-bottom-right-radius: 10px;
	}
	
	/* Change the color depending on which player owns the spot */
	td[data-player="red"]:before {
	    background-image: $red-gradient;
	}
	
	td[data-player="black"]:before {
	    background-image: $black-gradient;
	}
	
	td[data-player]:before {
	    animation: drop-in 0.5s;
	}
	
	&.emptying {
		table {
			animation: flip 2s;
		}
		
		td[data-player]:before {
 			animation: dump 4s;
		}
	}
	
	&:not(.emptying) {
		&[data-turn="red"] td.next {
			background-image: $red-hover-gradient;
		}
		
		&[data-turn="black"] td.next {
			background-image: $black-hover-gradient;
		}
	}
}

@keyframes drop-in {
    0% {
        transform: translateY(-400px);
    }
    
    50% {
        transform: translateY(2px);
    }
    
    75% {
        transform: translateY(-3px);
    }
    
    100% {
        transform: none;
    }
}

@keyframes flip {
	0% {
		transform: none;
	}
	
	40% {
		transform: rotateX(180deg);
	}
	
	60% {
		transform: rotateX(180deg);
	}
	
	100% {
		transform: none;
	}
}

@keyframes dump {
	12.5% {
		transform: translateY(0px);
	}
	
	40% {
		transform: translateY(-1000px);
	}
}
